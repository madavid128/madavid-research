
  ![on-push](../../actions/workflows/on-push.yaml/badge.svg)
  ![on-pull-request](../../actions/workflows/on-pull-request.yaml/badge.svg)
  ![on-schedule](../../actions/workflows/on-schedule.yaml/badge.svg)

  # Welcome to Michael A. David's Research Portfolio!
  This website summarizes my research, publications, and avaiable code written for various purposes.
  
  Visit **[michaeladavid.com](https://michaeladavid.com)**
  
  My research integrates spatial histopathology, transcriptomics, and medical imaging using machine learning (ML) to study and diagnose post-traumatic joint conditions of contracture and osteoarthritis. I develop ML models end-to-end to identify tissue and cellular subtypes, phenotypes, and predictive relationships. My ML models are built upon preclinical and clinical datasets involving the ankle, elbow, and knee. Topic areas: Machine Learning, Deep Learning, Post-Traumatic Osteoarthritis, Musculoskeletal Biology, Biomedical Engineering, Multi-omics, Medical Imaging, Spatial histopathology.

  Currently, I hold a position as Instructor in the Department of Orthopedics at University of Colorado Anschutz Medical Campus. My primary appointment is held within the Colorado Program for Musculoskeletal Research.

  Please don't hestitate to contact me for any opportunities or collaborative work

  Visit my other websites and social media:
  
  Google Scholar: http://scholar.google.com/citations?user=o7mhIiEAAAAJ&hl=en
  
  Academic Appointment: https://som.cuanschutz.edu/Profiles/Faculty/Profile/36910
  
  Linkedin: https://www.linkedin.com/in/mdavid3/
  
  Pubmed: https://www.ncbi.nlm.nih.gov/myncbi/1Feoil52XxqgFN/bibliography/public/

  ## Local preview (Docker)

  This repo uses a small Docker image to run `jekyll serve` locally.

  1) Start the local site:
  - `bash .docker/run.sh`

  2) View it:
  - Open `http://localhost:4000`

  3) Stop it:
  - Press `Ctrl+C` in the terminal running Docker.

  4) If it gets stuck, force restart:
  - `docker rm -f lab-website-renderer`
  - `bash .docker/run.sh`

  Notes:
  - Most edits (pages, `_data/*`, styles, scripts) are picked up automatically via hot reload.
  - You only need to re-run Docker if the container is stopped or becomes unresponsive.

  ## Collaborator map data

  The interactive collaborator map (on `team/` and `collaborators/`) is driven by `_data/collaborators_map.csv`.
  Add one row per person/institution and include `lat`/`lon` (decimal degrees) for the marker to appear.

  Recommended columns:
  - `name` (required)
  - `status` (`current` or `past`)
  - `department` (optional; shown in map hover)
  - `institution`, `city`, `region`, `country`
  - `lat`, `lon`
  - `link` (absolute URL or site-relative path like `contact`)
  - `tags` (separate tags with `;`, e.g. `trainee;collaborator;institution`)
  - optional: `papers`, `affiliation`

  There is also a helper script `_scripts/generate-collaborators.rb` that can extract co-author names from `_data/citations.yaml`,
  but it does not (and cannot reliably) infer locations.

  ### Update collaborators (manual CSV)

  1) Edit `_data/collaborators_map.csv`
  2) Make sure each row you want on the map has `lat` and `lon`
  3) Refresh your local site (hot reload should pick it up; otherwise restart Docker)

  ### Bootstrap collaborators from PubMed (optional)

  This does **not** affect the Jekyll build directly; it just writes `_data/collaborators_map.csv`.
  The site then reads that CSV at build time.

  The bootstrap script uses the DOIs already in `_data/citations.yaml` and queries PubMed (NCBI E-utilities).
  Optionally, it can geocode to fill in `lat/lon` via OpenStreetMap Nominatim (rate-limited / sometimes unavailable).

  1) Create a venv:
  - `python3 -m venv .venv`
  - `source .venv/bin/activate`

  2) Install deps:
  - `python -m pip install -r tools/requirements-collaborators.txt`

  3) Build collaborator CSV from PubMed:
  - `python tools/pubmed_to_collaborators_map.py --email you@domain.edu`

  4) Optional: geocode to fill `lat/lon` (network + rate limits):
  - `python tools/pubmed_to_collaborators_map.py --email you@domain.edu --geocode`

  - If geocoding errors with `HTTP Error 503`, rerun later (the service can be temporarily overloaded) or increase retries:
    `python tools/pubmed_to_collaborators_map.py --email you@domain.edu --geocode --geocode-retries 10`

  ## Publications word cloud

  The Publications page displays a word cloud and clickable “top terms” chips above the list.
  These are generated by the citation pipeline (`python _cite/cite.py`) and saved to:
  - `images/publications-wordcloud.png`
  - `_data/publications_terms.yaml`

  The generator prefers PubMed MeSH/Keyword terms (via NCBI E-utilities) when IDs can be resolved; otherwise it falls back to titles.
  You can optionally set `NCBI_EMAIL` in your environment to include a contact email in NCBI requests.

  ## Galleries (Pictures / Scientific Art)

  `pictures/` and `art/` use a lightweight masonry gallery with a click-to-open lightbox:
  - Data: `_data/pictures.yaml`, `_data/art.yaml`
  - Rendering: `_includes/gallery.html`
  - JS: `_scripts/gallery.js`
  - Styles: `_styles/gallery.scss`

  Replace placeholder SVGs under `images/` with real images (JPG/PNG/WebP) and update the corresponding `_data/*.yaml` entries.

  ## Manual publications (e.g., dissertation)

  If an item is not on PubMed, add it to `_data/sources.yaml`.
  The cite pipeline will include it alongside automated sources without affecting PubMed/ORCID ingestion.

  ## Icons

  The site uses Font Awesome classes for most icons (see `_data/types.yaml` and per-page `nav.icon` front matter).
  You can also use inline SVG icons by setting an icon value that ends with `.svg` and placing it under `_includes/`
  (for example `nav.icon: icons/my-icon.svg`).

  ### Generate a full icon set (static PNG/ICO/SVG + animated GIFs)

  This repo includes `make_mad_icons.py`, which reads `web-app-manifest-512x512.png` and generates:
  - PNGs: `apple-touch-icon.png`, `favicon-96x96.png`, `web-app-manifest-192x192.png`, `web-app-manifest-512x512.png`
  - `favicon.ico` (16/32/48/64)
  - `favicon.svg` (wrapper pointing at `web-app-manifest-512x512.png`)
  - Animated GIFs (electric-sign effect) at multiple sizes
  - A zip bundle `MAD_icons.zip` (flat contents)

  1) Create a venv (if you don’t already have one):
  - `python3 -m venv .venv`
  - `source .venv/bin/activate`

  2) Install Pillow:
  - `python -m pip install Pillow`

  3) Run the generator:
  - `python make_mad_icons.py`

  Outputs:
  - `dist_icons/` (all generated files)
  - `MAD_icons.zip` (all files zipped, no subfolders inside)

  To apply the **static** icons to the website, copy these from `dist_icons/` to the repo root (overwrite existing):
  - `apple-touch-icon.png`
  - `favicon-96x96.png`
  - `favicon.ico`
  - `favicon.svg`
  - `web-app-manifest-192x192.png`
  - `web-app-manifest-512x512.png`

  Animated favicon support varies by browser. The GIFs will always work as normal images on pages, but may not animate in the browser tab.

  ## Background image (network style)

  To generate a dark abstract “network” header background (teal/green nodes + lines) run:
  - `python tools/make_network_background.py`

  Default output:
  - `images/background.jpg` (2400×1350)

  Useful options:
  - `python tools/make_network_background.py --width 1920 --height 1080`
  - `python tools/make_network_background.py --seed 128` (deterministic)

  ## Licensing notes

  The repository’s default license is `LICENSE.md` (BSD 3‑Clause).

  Some standalone helper scripts added for this site are licensed under MIT (see `licenses/MIT_FOR_HELPERS.md`) and are marked per-file via
  `SPDX-License-Identifier: MIT` at the top of the script. See `LICENSES.md` for the current list of MIT‑licensed helper files.

  

  _Built with [Lab Website Template](https://greene-lab.gitbook.io/lab-website-template-docs)_
