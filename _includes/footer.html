{% assign image = page.footer | default: site.footer %}
{% assign dark = page.footer-dark | is_nil: site.footer-dark | is_nil: true %}
{% assign image_path = image | relative_url | uri_escape %}

<footer
  class="background"
  style="--image: url('{{ image_path }}{% if jekyll.environment == "development" %}?v={{ site.time | date: "%s" }}{% endif %}')"
  {% if dark == true or dark == false %}
    data-dark="{{ dark }}"
  {% endif %}
  data-size="wide"
>
  <!--
    <div>
      Extra details like contact info or address
    </div>
  -->

  {% assign footer_keys = "email,orcid,google-scholar,github,linkedin,pubmed" | split: "," %}
  <div class="footer-links">
    {% for key in footer_keys %}
      {% assign value = site.links[key] %}
      {% if value and value != "" %}
        {% include button.html type=key text="" link=value style="bare" %}
      {% endif %}
    {% endfor %}
  </div>

  <div>
    {% assign updated_at = page.last_modified_at | default: site.time %}
    &copy; {{ site.time | date: "%Y" }}
    {{ site.title }}
    &nbsp; | &nbsp; Last updated {{ updated_at | date: "%B %d, %Y" }}
    &nbsp; | &nbsp; Built with
    <a href="https://github.com/greenelab/lab-website-template">
      Lab Website Template
    </a>
    &nbsp; | &nbsp;
    <a
      href="https://github.com/madavid128/madavid-research/blob/main/THIRD_PARTY_NOTICES.md"
      target="_blank"
      rel="noopener noreferrer"
    >
      Notices
    </a>
    &nbsp; | &nbsp;
    <a href="{{ "privacy#analytics" | relative_url }}">Privacy</a>
  </div>

  <input
    type="checkbox"
    class="dark-toggle"
    data-tooltip="Dark mode"
    aria-label="toggle dark mode"
    oninput="onDarkToggleChange(event)"
  >

  <input
    type="checkbox"
    class="motion-toggle"
    data-tooltip="Reduce motion"
    aria-label="toggle reduced motion"
    oninput="onMotionToggleChange(event)"
  >
</footer>
